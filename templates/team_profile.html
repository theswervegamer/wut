{% extends "base.html" %}
{% block content %}
<style>:root { --content-w: clamp(1000px, 85vw, 1280px); }</style>
  <h2>{{ team.name }}</h2>

{% set highlights = team_highlights_db(team.id, None) %}
{% include "_highlights.html" %}




  <table>
    <tbody>
      <tr>
        <th style="width:140px">Active</th>
        <td>{{ 'Yes' if team.active else 'No' }}</td>
      </tr>
      <tr>
        <th>Status</th>
        <td>{{ team.status }}</td>
      </tr>
      <tr>
        <th>Members</th>
        <td>
          {% if not members %}
            <span class="muted">None</span>
          {% else %}
            <ul style="margin:0; padding-left:0; list-style:none">
              {% for m in members %}
                 <li><a class="plain-link" href="/wrestler/{{ m.id }}">{{ m.name }}</a></li>
              {% endfor %}
            </ul>
          {% endif %}
        </td>
      </tr>
    </tbody>
  </table>

  <p style="margin-top:16px">
    <a class="btn" href="/teams">Back to teams</a>
    <a class="btn" href="/teams/edit/{{ team.id }}">Edit team</a>
  </p>

  <h3 style="margin-top:24px; margin-bottom:8px;">Matches</h3>
  {% if not matches %}
    <p class="muted">No matches recorded for this team, or membership is not exactly two wrestlers.</p>
  {% else %}
    <table>
        <thead>
            <tr>
                <th style="width:6rem;">Season</th>
                <th>Tournament</th>
                <th>Round</th>
                <th>Stipulation</th>
                <th>Match</th>
                <th>Result</th>
                <th style="width:5rem;">Time</th>
            </tr>
        </thead>
      <tbody>
        {% for m in matches %}
          <tr>
            <td>S{{ m.season }}</td>
            <td>{{ m.tournament }}</td>
            <td class="round-col">{{ m.round }}</td>
            <td>{{ m.stipulation or 'â€”' }}</td>
            <td class="match-col">{{ m.match_display_html | safe }}</td>
            <td class="nowrap"><strong>{{ m.result_display_html | safe }}</strong></td>
            <td>{{ m.match_time_display }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% endif %}
{% endblock %}
